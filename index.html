<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Login</title>
  <script>
    // Vorab definierte, verschlüsselte Zugangsdaten (SHA-256 Hashes)
    const validUsers = {
      "user1": "5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8" // Passwort: "password"
    };

    async function hashPassword(password) {
      const encoder = new TextEncoder();
      const data = encoder.encode(password);
      const hashBuffer = await crypto.subtle.digest("SHA-256", data);
      const hashArray = Array.from(new Uint8Array(hashBuffer));
      return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
    }

    async function login(event) {
      event.preventDefault(); // Formular nicht absenden

      const username = document.getElementById("username").value;
      const password = document.getElementById("password").value;

      const hashedInput = await hashPassword(password);

      if (validUsers[username] && validUsers[username] === hashedInput) {
        // Login erfolgreich
        window.location.href = "main.html";
      } else {
        alert("Ungültiger Benutzername oder Passwort!");
      }
    }
  </script>
</head>
<body>
  <h2>Login</h2>
  <form onsubmit="login(event)">
    <label for="username">Benutzername:</label><br>
    <input type="text" id="username" required><br><br>
    <label for="password">Passwort:</label><br>
    <input type="password" id="password" required><br><br>
    <button type="submit">Einloggen</button>
  </form>
</body>
</html>
